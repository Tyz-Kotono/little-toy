# TextureToolkit

## 简介
TextureToolkit 是一个用于贴图处理和合成的多功能工具箱，支持多种贴图合成、颜色矩阵生成、序列帧拼接等功能，界面基于 PyQt6，操作直观。

## 主要功能

### 1. RGBA Atlas
- 支持将多张图片的 RGBA 通道合成为一张 2x2 序列帧贴图。
- 支持分辨率调整、预览和输出保存。

### 2. Merge Atlas
- 支持多张图片按指定行列拼接为序列帧贴图。
- 支持自定义填充色、输出分辨率、图片顺序调整、预览和保存。

### 3. Color Matrix / 颜色矩阵
- 支持自定义行列的颜色矩阵编辑，每个色块可单独拾色。
- 实时预览生成的颜色矩阵图片，可导出为PNG。
- 支持一键清除所有颜色。

### 4. Single Atlas
- 支持单张图片按指定行列合成序列帧贴图。
- 支持两种模式：全部重复单张、单张加颜色。
- 支持自定义填充色、输出分辨率、预览和保存。

## ColorMatrixDock 颜色矩阵生成器

### 功能亮点

- **交互式颜色矩阵编辑**：支持自定义行列数，点击单元格或拖拽历史颜色快速填色。
- **批量填充行/列**：每一行和每一列旁边有批量填充按钮，支持拖拽颜色或点击选择颜色，一键填充整行/整列。
- **历史颜色自动记录**：所有填色操作（点击、拖拽、批量填充）都会自动将新颜色加入历史区，方便复用。
- **默认填充色**：可自定义"默认填充色"，用于批量填充未设置颜色的格子，支持一键同步填充。
- **未填充格子高亮**：未填充的格子会用红色边框高亮，便于识别。
- **分辨率导出**：支持常用和自定义导出分辨率，导出图片时自动缩放。
- **矩阵区自适应**：矩阵区宽高可调，按钮自适应紧密排列。
- **保存图片弹窗**：保存图片时弹出标准文件保存对话框，支持多种格式，保存成功有提示。

### 使用方法

1. 选择行数、列数，点击"生成矩阵"。
2. 点击单元格或拖拽历史颜色进行填色。
3. 使用行/列批量填充按钮可一键填充整行或整列。
4. "默认填充色"可自定义，点击后可一键填充所有未设置颜色的格子。
5. 历史颜色区会自动记录所有用过的颜色，支持拖拽复用。
6. 选择导出分辨率，点击"保存图片"即可导出PNG/JPG/BMP等格式。

### 其他说明

- 所有操作均会实时刷新右侧预览区，导出图片与预览一致。
- 支持批量填充、单元格填色、拖拽等多种交互方式。
- 历史颜色区高度固定，颜色Cube大小固定，体验一致。

## 使用方法
1. 启动主程序：
   ```bash
   python main.py
   ```
2. 通过左侧按钮切换不同功能区。
3. 按界面提示选择图片、设置参数，点击生成/保存按钮完成操作。

## 依赖
- Python 3.8+
- PyQt6
- Pillow

安装依赖：
```bash
pip install PyQt6 Pillow
```

## 目录结构
- main.py                主程序入口
- RGBAChannelMere.py     RGBA通道合成功能
- MergeAtalas.py         多图拼接合成功能
- ColorMatrixDock.py     颜色矩阵功能
- SingleAtlasDock.py     单图序列帧合成功能
- Library/               通用UI组件

---
如有问题或建议，欢迎反馈！ 